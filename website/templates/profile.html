{% extends 'base.html' %} {% block title %}Profile{% endblock title %} {% block
body %}

<div class="main">
  <div class="sidebar">
    <ul>
      <li onclick="showSection('personal-details')">Personal Details</li>
      <li onclick="showSection('chats')">Chats</li>
      <li onclick="showSection('change-password')">Change Password</li>
      <li onclick="showSection('jobs-applied')">Jobs Applied</li>
      <li onclick="showSection('events-applied')">Events Applied</li>
      <li>
        <a href="{{ url_for('views.download_report') }}"
          >Download your Report</a
        >
      </li>
      <li><a href="{{ url_for('auth.logout') }}">Logout</a></li>
    </ul>
  </div>

  <div class="main-content">
    <div id="personal-details" class="section card">
      <h2 class="card-header text-center">Personal Details</h2>
      <div class="card-body">
        <div class="user-info">
          <div class="info-item">
            <i class="fas fa-id-card"></i>
            <span><strong>Reg No:</strong> {{ user.regno }}</span>
          </div>
          <div class="info-item">
            <i class="fas fa-graduation-cap"></i>
            <span
              ><strong>Year of Study:</strong> {{ user.year_of_study }}</span
            >
          </div>
          <div class="info-item">
            <i class="fas fa-envelope"></i>
            <span><strong>Email:</strong> {{ user.email_address }}</span>
          </div>
          <div class="info-item">
            <i class="fas fa-calendar-alt"></i>
            <span
              ><strong>Date Joined:</strong> {{
              user.date_joined.strftime('%Y-%m-%d') }}</span
            >
          </div>
        </div>
      </div>
    </div>
    <div id="chats" class="section" style="display: none">
      <h2>Chats</h2>
      <p>Your chats will appear here.</p>
    </div>

    <div id="change-password" class="section" style="display: none">
      <h2>Change Password</h2>
      <form method="post">
        <label>New Password:</label>
        <input type="password" name="new_password" required />
        <button type="submit">Change Password</button>
      </form>
    </div>

    <div id="jobs-applied" class="section" style="display: none">
      <h2>Jobs Applied</h2>
      <!-- Job applications -->
    </div>

    <div id="events-applied" class="section" style="display: none">
      <h2>Events Applied</h2>
      <!-- Event participation -->
    </div>
  </div>
</div>

<script>
  function showSection(sectionId) {
    document.querySelectorAll(".section").forEach((section) => {
      section.style.display = "none";
    });
    document.getElementById(sectionId).style.display = "block";
  }
</script>

{% endblock %}
